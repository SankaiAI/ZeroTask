<!DOCTYPE html>
<html>
<head>
    <title>OAuth Error</title>
</head>
<body>
    <script>
        // Get error from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error') || urlParams.get('slack_error') || 'Unknown error';
        
        // Close the popup and notify parent
        try {
            if (window.opener) {
                window.opener.postMessage({ type: 'oauth_error', provider: 'slack', error: error }, '*');
            }
        } catch (e) {
            console.log('Could not notify parent window:', e);
        }
        
        // Close this popup window
        setTimeout(() => {
            window.close();
        }, 3000);
        
        // Show error message to user
        document.body.innerHTML = `
            <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
                <h2>‚ùå OAuth Error</h2>
                <p><strong>Error:</strong> ${error}</p>
                <p>This window will close automatically...</p>
                <p>Please try again or contact support if the problem persists.</p>
            </div>
        `;
    </script>
</body>
</html>